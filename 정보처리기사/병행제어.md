---
tags:
  - 정보처리기사
---
### **1. 병행 제어(Concurrency Control)란?**

병행 제어에 앞서, 먼저 병행에 대해서 알아보자. 

**병행(Concurrency)**은 **매우 빠르게 여러 트랜잭션 사이를 이동하면서 조금씩 처리를 수행하는 방식**이다. 

따라서 실제로는 한 번에 한 트랜잭션만 수행하지만, 마치 동시에 여러 트랜잭션을 수행하는 것처럼 보이도록 하는 것이다. 

**병행 제어(Concurrency Control)**는 이렇게 **트랜잭션이 병행 수행될 때 트랜잭션이 데이터베이스의 일관성을 파괴하지 않고, 다른 트랜잭션에 영향을 주지 않도록 트랜잭션 간의 상호작용을 제어하는 것**을 말한다. 

병행 제어의 목적은 다음과 같다. 

- **데이터베이스의 일관성 유지**
- **데이터베이스 공유 최대화**
- **시스템 활용도 최대화**
- **사용자 응답 시간 최소화**
- **단위 시간당 트랜잭션 처리 건수 최대화**


# 병행제어기법

**1. 로킹 (Locking)**

로킹은 **트랜잭션이 접근하려는 데이터를 다른 트랜잭션이 접근하지 못하도록 잠그는(lock) 병행 제어 기법**이다.

- **로킹 단위**: 필드, 레코드, 테이블, 파일, 데이터베이스 모두 로킹 단위가 될 수 있다.
- 한 번에 로킹 할 수 있는 객체의 크기를 **로킹 단위**라고 한다.

|                 |           |           |             |            |                |
| --------------- | --------- | --------- | ----------- | ---------- | -------------- |
| **로킹 단위  <br>** | **로크의 수** | **병행 제어** | **로킹 오버헤드** | **병행성 수준** | **데이터베이스 공유도** |
| 커짐              | 적어짐       | 단순해짐      | 감소          | 낮아짐        | 감소             |
| 작아짐             | 커짐        | 복잡해짐      | 증가          | 높아짐        | 증가             |


 **2단계 로킹 규약 (Two-Phase Locking, 2PL)**

2단계 로킹(Two-Phase Locking, 2PL) 규약은 **각 트랜잭션의 lock과 unlock 요청을 2단계로 실시하는 방식**이다.


**. 타임스탬프 순서 (Timestamp ordering) 기법**

타임스탬프 순서 기법은 **비직렬 트랜잭션을 타임스탬프 순서에 따라 직렬화 시키는 방법**이다.


**낙관적 병행 제어 (Optimistic Concurrency Control)**

낙관적 병행 제어는 **트랜잭션 수행 동안은 어떠한 검사를 하지 않고, 트랜잭션이 종료된 이후에 일괄적으로 검사하는 방식**이다. 수행


**. 다중 버전 병행 제어 (Multi-version Concurrency Control)**

**한 데이터에 대해 여러 버전의 값을 유지하며 관리하는 방식**이다. 타임스탬프의 개념을 이용하며, 다중 버전 타임 스탬프 기법이라고도 한다. 

출처: [https://rebro.kr/163](https://rebro.kr/163) [Rebro의 코딩 일기장:티스토리]


